<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Functional Javascript</title>
  <link rel="stylesheet" href="../../css/styles.css">
  <script src="../../lib/d3.js"></script>
</head>
<body>
  <script>
    function SimpleWidget(spec) {
      const instance = {};

      let headline, description;

      instance.render = function () {
        const div = d3.select('body').append('div');

        div.append('h3').text(headline);

        div.attr('class', 'box')
            .attr('style', 'color:' + spec.color)
          .append('p')
            .text(description);

        return instance;
      };

      instance.headline = function (h) {
        if (!arguments.length) return headline;
        headline = h;
        return instance;
      }

      instance.description = function (d) {
        if (!arguments.length) return description;
        description = d;
        return instance;
      };

      return instance;
    }

    const widget = SimpleWidget(({ color: '#6495ed' }))
      .headline('Simple Widget')
      .description('This is a simple widget demonstrating functional javascript.')
      .render();

  </script>
</body>
</html>